
# Core Features & API 개요

이 페이지는 Agno-Go의 주요 개념과 그것이 런타임 HTTP API와 어떻게 연결되는지에 대해 높은 수준에서 설명합니다. Go 구현을 읽지 않고도 “무엇을 할 수 있는지”와 “어떤 엔드포인트를 호출해야 하는지”를 이해하고 싶은 개발자를 위한 문서입니다.

## 핵심 개념

### Agent(에이전트)

**Agent**는 특정 작업이나 제품 시나리오에 대해 시스템이 어떻게 동작해야 하는지를 정의하는 구성입니다. 예를 들어:

- 이름과 설명  
- 기본으로 사용할 모델(예: OpenAI, Gemini, Groq 등)  
- 사용할 수 있는 도구 목록  
- 온도나 라우팅 정책과 같은 추가 동작 설정  

에이전트 생성/조회는 `/agents` 엔드포인트를 통해 이루어집니다.

### Session(세션)

**세션**은 사용자(또는 시스템)와 에이전트 간의 지속적인 대화를 나타냅니다:

- 항상 하나의 에이전트에 속함  
- `userId`와 선택적인 `metadata`(채널, 실험 그룹 등)를 포함  
- 여러 메시지에 대해 안정적인 컨텍스트를 제공  

세션은 `/agents/{agentId}/sessions` 엔드포인트로 생성합니다.

### Message(메시지)

**메시지**는 세션 내 한 번의 발화입니다:

- 역할(`user`, `assistant` 등)을 가짐  
- 텍스트 내용과 필요 시 도구 호출 정보를 포함  
- `stream` 쿼리 파라미터에 따라 단일 JSON 또는 이벤트 스트림 형태로 반환  

메시지는 `/agents/{agentId}/sessions/{sessionId}/messages` 엔드포인트로 전송합니다.

### Tool(도구)

도구는 에이전트가 외부 시스템(HTTP API, 데이터베이스, 검색 등)을 호출할 수 있게 해주는 인터페이스입니다. 런타임은 다음을 제공합니다:

- 에이전트에 도구를 등록하는 방법  
- 특정 도구를 활성/비활성화하는 방법  

도구 상태는 `/agents/{agentId}/tools/{toolName}` 엔드포인트로 변경합니다.

### Memory(메모리)와 상태

메모리는 세션과 대화를 넘어 상태를 어떻게 유지할지에 대한 개념입니다. Agno-Go에서는:

- 단기 대화 상태는 세션과 메시지에 저장되고  
- 사용자 프로필이나 지식 베이스 같은 장기 상태는 구성된 스토리지 백엔드에 저장됩니다.  

사용되는 구체적인 스토리지(인메모리, Bolt, Badger 등)는 환경 변수와 `config/default.yaml`로 결정되며, 자세한 내용은 “Configuration & Security Practices” 페이지에서 설명합니다.

### Provider(프로바이더)

**프로바이더**는 OpenAI, Gemini, GLM4, OpenRouter, SiliconFlow, Cerebras, ModelScope, Groq, Ollama 등 모델 기능을 제공하는 백엔드입니다. 각 프로바이더는:

- Go에서 공통 chat/embedding 인터페이스를 구현하고  
- 인증과 엔드포인트 설정을 위한 특정 환경 변수를 필요로 하며  
- 비스트리밍 및 스트리밍 응답을 지원할 수 있습니다.  

각 프로바이더의 기능과 설정 필드는 “프로바이더 매트릭스” 페이지에서 한눈에 비교할 수 있습니다.

## HTTP API 개요(런타임)

런타임은 위 개념에 대응하는 소수의 HTTP 엔드포인트를 노출합니다. 자세한 정의는 `contracts` 디렉터리의 OpenAPI 문서에 있으며, 여기서는 가장 자주 사용하는 몇 가지를 소개합니다.

### Health Check

- **엔드포인트**: `GET /health`  
- **목적**: 런타임이 정상적으로 동작하는지 확인하고, 버전 및 프로바이더 상태 등의 메타데이터를 조회.  
- **용도**: 헬스 체크, 모니터링, 배포 후 수동 확인 등.  

### Agents

- **에이전트 생성**  
  - **엔드포인트**: `POST /agents`  
  - **요청 본문**: 에이전트 정의(이름, 설명, 모델, 도구, 설정).  
  - **응답**: `agentId`를 포함하는 JSON 객체.  
- **에이전트 조회**  
  - **엔드포인트**: `GET /agents/{agentId}`  
  - **용도**: 기존 에이전트 구성을 확인하고 디버깅이나 감사에 활용.  

### Sessions

- **세션 생성**  
  - **엔드포인트**: `POST /agents/{agentId}/sessions`  
  - **요청 본문**: 선택적인 `userId`와 `metadata`.  
  - **응답**: 세션 ID를 포함하는 객체.  
- **관계**: 하나의 세션은 하나의 에이전트에 속하며, 하나의 에이전트는 여러 세션을 가질 수 있습니다.  

### Messages

- **비스트리밍 메시지 전송**  
  - **엔드포인트**: `POST /agents/{agentId}/sessions/{sessionId}/messages`  
  - **쿼리**: `stream` 없음 또는 `stream=false`.  
  - **요청 본문**: `role`과 `content`를 포함하는 메시지.  
  - **응답**: `messageId`, `content`, `toolCalls`, `usage`, `state` 등을 포함하는 JSON.  
- **스트리밍 메시지 전송**  
  - **엔드포인트**: `POST /agents/{agentId}/sessions/{sessionId}/messages?stream=true`  
  - **응답**: Server-Sent Events(SSE)를 사용한 점진적 출력.  

Quickstart 페이지에서는 위 엔드포인트를 이용한 최소 호출 시퀀스를 예제로 보여줍니다.

### Tools

- **도구 활성/비활성화**  
  - **엔드포인트**: `PATCH /agents/{agentId}/tools/{toolName}`  
  - **요청 본문**: `{ "enabled": true | false }`  
  - **응답**: 도구 이름, 현재 상태, 전체 도구 목록을 포함하는 객체.  

툴 기반 워크플로우나 동적으로 도구를 온/오프하는 고급 가이드에서 특히 중요한 엔드포인트입니다.

## 설정 개요

이 페이지는 특정 배포 구조를 강제하지 않지만, 다음을 기본 전제로 합니다:

- 런타임 설정은 `config/default.yaml` 같은 파일에 저장됨  
- 프로바이더 인증 정보와 엔드포인트는 `.env`에 정의된 환경 변수로 주입됨  
- `.env.example`에는 지원되는 모든 프로바이더용 환경 변수가 나열되어 있고, 주석으로 필수/선택 여부가 구분되어 있음  

설정과 환경 변수, 보안 모범 사례를 한 번에 보고 싶다면 **Configuration & Security Practices** 페이지를 참고하세요. 프로바이더별 기능 차이와 설정 필드를 비교하려면 **프로바이더 매트릭스** 페이지를 참고하면 됩니다.
